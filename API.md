# API TrumpetHoler

## Сервера

POST /motorclick - Двигает моторы

- motorid: <Номер мотора или -1 для всех>

- motorspeed: <Скорость мотора от 1-3>

- side: <Сторона -1|1>

GET /startfill - Запускает пену

POST /move - Перемещает мех.рука

- x: <Делта для перемещения по x>

- y: <Делта для перемещения по y>

- speed: <Скорость перемещения>

GET /motorstate - Возвращает данные о 6 концевиках в формате:

```json
{
    "status": true,
    "response": [0, 1, 0, 0, 1, 1]
}
```

## Arduino API

Пакет начинается с символа '[' и заканчивается символом ']'

КОЛЛЕКТОРНЫЕ МОТОРЫ
  команда для мотора начинается с латинской 'M'
  - первым аргументом команды для мотора является номер мотора:
    0 - все моторы
    1 - первый мотор
    2 - второй мотор
    3 - третий мотор
  Символ пробела ' ' является разделителем аргументов
  - вторым аргументом команды для мотора является направление вращения, кодируемое строчной латинской буквой:
    'f' - вперёд
    'b' - назад
  - третьим аргументом команды для мотора является время в мс, в течение которого мотор должен вращаться

ПРИМЕР КОМАНДЫ ДЛЯ МОТОРА:
[M0 f 3000] - все моторы вверх 3 секунды
[M1 b 6000] - первый мотор вверх 6 секунд

ШАГОВЫЕ МОТОРЫ
  команда для шагового мотора начинается с латинской 'S'
  - первым аргументом команды для мотора является номер мотора:
    1 - первый мотор
    2 - второй мотор
  Символ пробела ' ' является разделителем аргументов
  - вторым аргументом команды для шагового мотора является направление вращения, кодируемое строчной латинской буквой:
    'f' - вперёд
    'b' - назад
  - третьим аргументом шагового команды для мотора является количество шагов

ПРИМЕР КОМАНДЫ ДЛЯ ШАГОВОГО МОТОРА:
[S1 b 10] - первый шаговый мотор назад 10 шагов

СЕРВОПРИВОДЫ
  команда для сервопривода начинается с латинской 'L'
  - первым аргументом команды для сервопривода является номер сервопривода:
    1 - первый сервопривод
    2 - второй второй сервопривод
  Символ пробела ' ' является разделителем аргументов
  - вторым аргументом команды для сервопривода является направление вращения:
    'f' - по часовой стрелке
    'b' - против часовой стрелки
  - третьим аргументом команды для сервопривода является количество градусов

ПРИМЕР КОМАНДЫ ДЛЯ СЕРВОПРИВОДА:
[L1 b 10] - первый сервопривод назад на 10 градусов

РЕЛЕ
  команда для реле начинается с латинской 'R'
  - первым аргументом команды для реле является номер реле
    '0' - все реле
    '1' - первое реле
    '2' - второе реле
  - вторым аргументом является состояние реле
    '0' - выключено
    '1' - включено

ПРИМЕР КОМАНДЫ ДЛЯ РЕЛЕ:
[R0 0] - все реле выключить
[R1 1] - первое реле включить

ПРИМЕЧАНИЯ
1 - первый аргумент не отделяется пробелом от литеры (буквы) команды
2 - в одном пакете может содержаться несколко команд. Литера последующей команды отделяется от крайнего аргумента предыдущей команды пробелом